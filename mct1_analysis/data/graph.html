<html>

  <head>
    <style> body { margin: 0; } </style>

    <script src="//unpkg.com/3d-force-graph"></script>
    <script src="//unpkg.com/three"></script>
    <script src="//unpkg.com/three-spritetext"></script>

    <!--<script src="../../dist/3d-force-graph.js"></script>-->
  </head>

  <body>

    <div id="3d-graph"></div>

    <script>

      //const this_file = 'yeast_correlations_graph.json';

      //const this_file = 'yeast_correlations_graphMCT1_ACP1.json';
      //const this_file = 'yeast_correlations_graphTOR1_TOR2.json';
      //const this_file = 'yeast_correlations_graphTOR1_TDH1.json';
      //const highlightNodes = [
      //  'TOR1',
      //  'TDH1'
      //];


      const this_file = 'mct1_rnaseq_correlations_spqn_graph.json';
      const highlightNodes = [
        'CTP1',
        'MCT1'
      ];

      const rtgNodes = [
        'ACO2',
        'LYS1',
        'LYS9',
        'LYS21',
      ];

      const lysNodes = [
        'ILV2',
        'ACO2',
        'LYS9',
        'DUT1',
        'MET5',
        'ARG4',
        'LYS21',
        'LYS1'
      ];

      const elem = document.getElementById('3d-graph');
      console.log(elem)
      const Graph = ForceGraph3D({
          powerPreference: "high-performance"
        })(elem)
        .jsonUrl(this_file)
        .nodeColor(node => highlightNodes.includes(node.id) ? 'rgb(255,0,0,1)' : 'rgba(0,255,255,0.6)')
        .nodeLabel(node => `${node.id}`)
        .onNodeHover(node => elem.style.cursor = node ? 'pointer' : null)
        .nodeThreeObject(node => {
          const sprite = new SpriteText(node.id);
          sprite.material.depthWrite = true; // make sprite background transparent
        if (highlightNodes.includes(node.id)) {
          sprite.color = "red";
        } else if (rtgNodes.includes(node.id)) {
          sprite.color = "orange";
        } else {
          sprite.color = "white";
        }
        sprite.textHeight = 8;
        return sprite;
       });

      Graph.d3Force('charge').strength(-3020);

    </script>
  </body>
</html
